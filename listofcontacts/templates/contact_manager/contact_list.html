{% extends 'layout.html' %}
{% block title %}
  Contact List
{% endblock %}
{% block content %}
  <h2 class="mb-3"><i class="fas fa-address-book"></i> Contact List</h2>
  <a class="btn btn-primary mb-3" href="{% url 'contact_create' %}">Add Contact</a>

  <div class="row">
    {% for contact in contacts %}
      <div class="col-md-3 mb-2">
        <div class="card">
          <div class="card-body text-center"> <!-- Added 'text-center' class -->
            <img src="{{ contact.profile_image.url }}" alt="{{ contact.name }}" class="rounded-circle mb-2" style="max-width: 200px; height: auto;">
            <h5 class="card-title">{{ contact.name }}</h5>
            <p class="card-text">Email: {{ contact.email }}</p>
            <p class="card-text">Contact No.: {{ contact.phone }}</p>
            <p class="card-text">Address: {{ contact.address }}</p>
            <a class="btn btn-sm btn-secondary" href="{% url 'contact_update' contact.pk %}">Edit</a>
            <a class="btn btn-sm btn-danger" href="{% url 'contact_delete' contact.pk %}">Delete</a>
          </div>
        </div>
      </div>
      {% if forloop.counter|divisibleby:3 and not forloop.last %}
        </div><div class="row">
      {% endif %}
    {% endfor %}
  </div>

  <a class="btn btn-secondary mt-3" href="{% url 'home' %}">Back to Home</a>
{% endblock %}
